(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){"use strict";var c;n.d(t,"a",(function(){return c})),function(e){e.warning="WARNING",e.danger="DANGER"}(c||(c={}))},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var c=n(0),r=n(18),i=n(9);class s{constructor(e,t){this.service=e,this.router=t}canActivate(e,t){return!!this.service.isAdmin()||(this.router.navigate(["/profile"]),!1)}}s.ɵfac=function(e){return new(e||s)(c.oc(r.a),c.oc(i.b))},s.ɵprov=c.bc({token:s,factory:s.ɵfac});class a{constructor(e,t){this.service=e,this.router=t}canActivate(e,t){return!!this.service.isLoggedIn()||(this.router.navigate(["/login"]),!1)}}a.ɵfac=function(e){return new(e||a)(c.oc(r.a),c.oc(i.b))},a.ɵprov=c.bc({token:a,factory:a.ɵfac})},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0),r=n(35);class i{constructor(e){this.service=e}ngOnInit(){this.text=this.service.decode(this.key)}}i.ɵfac=function(e){return new(e||i)(c.fc(r.a))},i.ɵcmp=c.Zb({type:i,selectors:[["localize"]],inputs:{key:"key"},decls:1,vars:1,template:function(e,t){1&e&&c.Uc(0),2&e&&c.Vc(t.text)},encapsulation:2})},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0),r=n(8);class i extends r.c{constructor(e){super(e)}}i.ɵfac=function(e){return new(e||i)(c.oc(r.b))},i.ɵprov=c.bc({token:i,factory:i.ɵfac})},153:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0),r=n(35);class i{constructor(e){this.localizationService=e,this.overlapMessage={type:"ERROR",message:this.localizationService.decode("manage.versions.overlap.message")},this.gapMessage={type:"WARNING",message:this.localizationService.decode("manage.versions.gap.message")}}formatDateForDisplay(e){return e?e instanceof Date?this.getDateString(e):e.split("T")[0]:""}getDateFromDateString(e){return new Date(+e.split("-")[0],+e.split("-")[1]-1,+e.split("-")[2])}getDateString(e){if(e instanceof Date){let t=e.getFullYear(),n=e.getMonth()+1,c=e.getDate();return c<10&&(c="0"+c),n<10&&(n="0"+n),t+"-"+n+"-"+c}return null}}i.ɵfac=function(e){return new(e||i)(c.oc(r.a))},i.ɵprov=c.bc({token:i,factory:i.ɵfac})},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0),r=n(58);class i{constructor(e){if(this.service=e,this.user={loggedIn:!1,userName:"",externalProfile:!1,roles:[]},this.service.check("user")){let e=this.service.get("user"),t=JSON.parse(e);this.user.userName=t.userName,this.user.roles=t.roles,this.user.externalProfile=t.externalProfile,this.user.loggedIn=!0}}setUser(e){this.user=e}removeUser(){this.user={loggedIn:!1,userName:"",externalProfile:!1,roles:[]}}getUserName(){return this.user.userName}isLoggedIn(){return this.user.loggedIn}isAdmin(){return-1!==this.user.roles.indexOf("geoprism.admin.Administrator")}isExternalProfile(){return this.user.externalProfile}isWorker(){return this.isAdmin()||-1!==this.user.roles.indexOf("geoprism.admin.DashboardBuilder")}}i.ɵfac=function(e){return new(e||i)(c.oc(r.a))},i.ɵprov=c.bc({token:i,factory:i.ɵfac})},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0),r=n(35);class i{constructor(e){this.service=e}transform(e){return this.service.decode(e)}}i.ɵfac=function(e){return new(e||i)(c.fc(r.a))},i.ɵpipe=c.ec({name:"localize",type:i,pure:!0})},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0);class r{constructor(){this.listeners=[]}registerListener(e){this.listeners.push(e)}deregisterListener(e){let t=this.listeners.indexOf(e);return-1!==t&&(this.listeners.splice(t,1),!0)}start(){for(const e of this.listeners)e.start()}complete(){for(const e of this.listeners)e.complete()}}r.ɵfac=function(e){return new(e||r)},r.ɵprov=c.bc({token:r,factory:r.ɵfac})},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0);class r{constructor(){this.colors=["#F00","#F90","#FF0","#9F0","#0F0"]}static measureStrength(e){let t=0,n={};for(let c=0;c<e.length;c++)n[e[c]]=(n[e[c]]||0)+1,t+=5/n[e[c]];let c={digits:/\d/.test(e),lower:/[a-z]/.test(e),upper:/[A-Z]/.test(e),nonWords:/\W/.test(e)},r=0;for(let e in c)r+=c[e]?1:0;return t+=10*(r-1),Math.trunc(t)}getColor(e){let t=0;return e>90?t=4:e>70?t=3:e>=40?t=2:e>=20&&(t=1),{idx:t+1,col:this.colors[t]}}ngOnChanges(e){var t=e.passwordToCheck.currentValue;if(this.setBarColors(5,"#DDD"),t){let e=this.getColor(r.measureStrength(t));this.setBarColors(e.idx,e.col)}}setBarColors(e,t){for(let n=0;n<e;n++)this["bar"+n]=t}}r.ɵfac=function(e){return new(e||r)},r.ɵcmp=c.Zb({type:r,selectors:[["password-strength-bar"]],inputs:{passwordToCheck:"passwordToCheck"},features:[c.Rb],decls:8,vars:10,consts:[["id","strength",2,"margin","11px"],["strength",""],["id","strengthBar"],[1,"point"]],template:function(e,t){1&e&&(c.kc(0,"div",0,1),c.kc(2,"ul",2),c.gc(3,"li",3),c.gc(4,"li",3),c.gc(5,"li",3),c.gc(6,"li",3),c.gc(7,"li",3),c.jc(),c.jc()),2&e&&(c.Tb(3),c.Rc("background-color",t.bar0),c.Tb(1),c.Rc("background-color",t.bar1),c.Tb(1),c.Rc("background-color",t.bar2),c.Tb(1),c.Rc("background-color",t.bar3),c.Tb(1),c.Rc("background-color",t.bar4))},styles:["ul#strengthBar[_ngcontent-%COMP%] {\n\tdisplay: inline;\n\tlist-style: none;\n\tmargin: 0;\n\tmargin-left: 15px;\n\tpadding: 0;\n\tvertical-align: 2px;\n}\n\n.point[_ngcontent-%COMP%]:last {\n\tmargin: 0 !important;\n}\n\n.point[_ngcontent-%COMP%] {\n\tbackground: #DDD;\n\tborder-radius: 2px;\n\tdisplay: inline-block;\n\theight: 5px;\n\tmargin-right: 1px;\n\twidth: 20px;\n}"]})},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(0),r=n(26),i=n(3);function s(e,t){1&e&&c.gc(0,"div",1)}class a{constructor(e){this.service=e,this.showIndicator=!1}ngOnInit(){this.service.registerListener(this)}ngOnDestroy(){this.service.deregisterListener(this)}start(){this.showIndicator=!0}complete(){this.showIndicator=!1}}a.ɵfac=function(e){return new(e||a)(c.fc(r.a))},a.ɵcmp=c.Zb({type:a,selectors:[["loading-bar"]],decls:1,vars:1,consts:[["class","standby-overlay","style","height: 100%; width: 100%; z-index: 100;",4,"ngIf"],[1,"standby-overlay",2,"height","100%","width","100%","z-index","100"]],template:function(e,t){1&e&&c.Sc(0,s,1,0,"div",0),2&e&&c.Ac("ngIf",t.showIndicator)},directives:[i.l],encapsulation:2})},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c=n(0),r=n(18),i=n(36),s=n(10),a=n(4),o=n(55),l=n(15),u=n(3),d=n(69),f=n(56),g=n(28),p=n(21);function h(e,t){1&e&&(c.kc(0,"div",21),c.gc(1,"localize",22),c.jc())}function m(e,t){if(1&e){const e=c.lc();c.kc(0,"div",4),c.kc(1,"boolean-field",23),c.sc("valueChange",(function(t){return c.Lc(e),c.uc().profile.changePassword=t})),c.vc(2,"localize"),c.jc(),c.jc()}if(2&e){const e=c.uc();c.Tb(1),c.Ac("value",e.profile.changePassword)("label",c.wc(2,2,"account.changePassword"))}}function b(e,t){1&e&&(c.kc(0,"div",21),c.Uc(1," The password must be at least 14 characters in length and must contain at least: Two uppercase letters [A-Z], two lowercase letters [a-z], two digits [0-9], and two special characters [e.g.: !@#$*&] "),c.jc())}function v(e,t){1&e&&(c.kc(0,"div",21),c.gc(1,"localize",31),c.jc())}function k(e,t){if(1&e){const e=c.lc();c.kc(0,"div"),c.kc(1,"div",4),c.kc(2,"label"),c.gc(3,"localize",24),c.jc(),c.kc(4,"input",25,26),c.sc("ngModelChange",(function(t){return c.Lc(e),c.uc().profile.password=t})),c.jc(),c.gc(6,"password-strength-bar",27),c.Sc(7,b,2,0,"div",12),c.jc(),c.kc(8,"div",4),c.kc(9,"label"),c.gc(10,"localize",28),c.jc(),c.gc(11,"input",29,30),c.Sc(13,v,2,0,"div",12),c.jc(),c.jc()}if(2&e){const e=c.Jc(5),t=c.Jc(12),n=c.uc();c.Tb(4),c.Ac("ngModel",n.profile.password),c.Tb(2),c.Ac("passwordToCheck",n.profile.password),c.Tb(1),c.Ac("ngIf",null==e.errors?null:e.errors.passwordStrength),c.Tb(4),c.Ac("ngModel",t),c.Tb(2),c.Ac("ngIf",t.errors&&t.errors.mustMatch)}}function y(e,t){if(1&e&&(c.gc(0,"input",32),c.vc(1,"localize")),2&e){c.uc();const e=c.Jc(2);c.Ac("value",c.wc(1,2,"dataset.submit"))("disabled",!e.valid)}}const w=function(){return["password","certainPassword"]};class j{constructor(e,t,n){this.authService=e,this.service=t,this.bsModalRef=n,this.profile={oid:"",username:"",password:"",firstName:"",lastName:"",email:"",changePassword:!1},this.externalProfile=!1}ngOnInit(){this.externalProfile=this.authService.isExternalProfile()}onSubmit(){this.profile.changePassword||delete this.profile.password,this.service.apply(this.profile).then(e=>{this.bsModalRef.hide()})}cancel(){this.externalProfile?this.bsModalRef.hide():this.service.unlock(this.profile.oid).then(e=>{this.bsModalRef.hide()})}}j.ɵfac=function(e){return new(e||j)(c.fc(r.a),c.fc(i.a),c.fc(s.a))},j.ɵcmp=c.Zb({type:j,selectors:[["profile"]],decls:35,vars:17,consts:[[1,"modal-body"],[3,"mustMatch","ngSubmit"],["form","ngForm"],[1,"heading"],[1,"form-group"],["key","account.firstname"],["type","text","name","firstname","required","",3,"disabled","ngModel","ngModelChange"],["key","account.lastname"],["type","text","name","lastname","required","",3,"disabled","ngModel","ngModelChange"],["key","account.email"],["type","email","name","email","required","","email","",3,"disabled","ngModel","ngModelChange"],["aemail","ngModel"],["class","inline-error-message",4,"ngIf"],["key","account.info.heading"],["key","account.username"],["type","text","name","username","required","",3,"disabled","ngModel","ngModelChange"],["class","form-group",4,"ngIf"],[4,"ngIf"],[1,"btn-holder",2,"text-align","right"],["type","button",1,"btn","btn-default",3,"value","click"],["type","submit","class","btn btn-primary",3,"value","disabled",4,"ngIf"],[1,"inline-error-message"],["key","account.email.validation"],[3,"value","label","valueChange"],["key","account.password"],["type","password","name","password","required","","minlength","5","maxlength","50","passwordValidator","",3,"ngModel","ngModelChange"],["password","ngModel"],[3,"passwordToCheck"],["key","account.certainPassword"],["type","password","name","certainPassword","required","",3,"ngModel"],["certainPassword","ngModel"],["key","account.certainPassword.validation"],["type","submit",1,"btn","btn-primary",3,"value","disabled"]],template:function(e,t){if(1&e){const e=c.lc();c.kc(0,"div",0),c.kc(1,"form",1,2),c.sc("ngSubmit",(function(){return c.Lc(e),c.Jc(2).valid&&t.onSubmit()})),c.kc(3,"div",3),c.kc(4,"h3"),c.Uc(5,"User Profile"),c.jc(),c.jc(),c.gc(6,"hr"),c.kc(7,"div",4),c.kc(8,"label"),c.gc(9,"localize",5),c.jc(),c.kc(10,"input",6),c.sc("ngModelChange",(function(e){return t.profile.firstName=e})),c.jc(),c.jc(),c.kc(11,"div",4),c.kc(12,"label"),c.gc(13,"localize",7),c.jc(),c.kc(14,"input",8),c.sc("ngModelChange",(function(e){return t.profile.lastName=e})),c.jc(),c.jc(),c.kc(15,"div",4),c.kc(16,"label"),c.gc(17,"localize",9),c.jc(),c.kc(18,"input",10,11),c.sc("ngModelChange",(function(e){return t.profile.email=e})),c.jc(),c.Sc(20,h,2,0,"div",12),c.jc(),c.kc(21,"div",3),c.kc(22,"h3"),c.gc(23,"localize",13),c.jc(),c.jc(),c.gc(24,"hr"),c.kc(25,"div",4),c.kc(26,"label"),c.gc(27,"localize",14),c.jc(),c.kc(28,"input",15),c.sc("ngModelChange",(function(e){return t.profile.username=e})),c.jc(),c.jc(),c.Sc(29,m,3,4,"div",16),c.Sc(30,k,14,5,"div",17),c.kc(31,"div",18),c.kc(32,"input",19),c.sc("click",(function(){return t.cancel()})),c.vc(33,"localize"),c.jc(),c.Sc(34,y,2,4,"input",20),c.jc(),c.jc(),c.jc()}if(2&e){const e=c.Jc(19);c.Tb(1),c.Ac("mustMatch",c.Dc(16,w)),c.Tb(9),c.Ac("disabled",t.externalProfile)("ngModel",t.profile.firstName),c.Tb(4),c.Ac("disabled",t.externalProfile)("ngModel",t.profile.lastName),c.Tb(4),c.Ac("disabled",t.externalProfile)("ngModel",t.profile.email),c.Tb(2),c.Ac("ngIf",null==e.errors?null:e.errors.email),c.Tb(8),c.Ac("disabled","admin"===t.profile.username||t.externalProfile)("ngModel",t.profile.username),c.Tb(1),c.Ac("ngIf",!t.externalProfile),c.Tb(1),c.Ac("ngIf",t.profile.changePassword&&!t.externalProfile),c.Tb(2),c.Ac("value",c.wc(33,14,"dataset.cancel")),c.Tb(2),c.Ac("ngIf",!t.externalProfile)}},directives:[a.r,a.i,a.j,o.a,l.a,a.a,a.o,a.h,a.k,a.b,u.l,d.a,a.e,a.d,f.a,g.a],pipes:[p.a],styles:[".modal-form[_ngcontent-%COMP%]   .check-block[_ngcontent-%COMP%]   .chk-area[_ngcontent-%COMP%] { margin: 10px 0px 0 0;}"]})},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0);class r{localize(e,t){return com.runwaysdk.Localize.localize(e,t)}get(e){return com.runwaysdk.Localize.get(e)}decode(e){let t=e.lastIndexOf(".");if(-1!==t){let n=[e.slice(0,t),e.slice(t+1)];return this.localize(n[0],n[1])}return this.get(e)}}r.ɵfac=function(e){return new(e||r)},r.ɵprov=c.bc({token:r,factory:r.ɵfac})},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(0),r=n(8),i=n(125),s=n(26);class a{constructor(e,t){this.eventService=e,this.http=t}get(){let e=new r.f({"Content-Type":"application/json"});return this.http.post(acp+"/account/get",{headers:e}).toPromise()}apply(e){let t=new r.f({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/account/apply",JSON.stringify({account:e}),{headers:t}).pipe(Object(i.a)(()=>{this.eventService.complete()})).toPromise()}unlock(e){let t=new r.f({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/account/unlock",JSON.stringify({oid:e}),{headers:t}).pipe(Object(i.a)(()=>{this.eventService.complete()})).toPromise()}tasksCount(){let e=new r.g;return e=e.set("statuses",JSON.stringify(["Error","Failed"])),this.http.get(acp+"/project/tasks-count",{params:e}).toPromise()}}a.ɵfac=function(e){return new(e||a)(c.oc(s.a),c.oc(r.c))},a.ɵprov=c.bc({token:a,factory:a.ɵfac})},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(0),r=n(25),i=n(102),s=n(10),a=n(3);function o(e,t){if(1&e&&c.gc(0,"p",6),2&e){const e=c.uc();c.Ac("innerHtml",e.subText,c.Mc)}}class l{constructor(e){this.bsModalRef=e,this.message="Are you sure?",this.subText=null,this.submitText="Submit",this.cancelText="Cancel",this.type=i.a.warning}ngOnInit(){this.onConfirm=new r.b}confirm(){this.bsModalRef.hide(),this.onConfirm.next(this.data)}}l.ɵfac=function(e){return new(e||l)(c.fc(s.a))},l.ɵcmp=c.Zb({type:l,selectors:[["basic-confirm-modal"]],inputs:{message:"message",subText:"subText",data:"data",submitText:"submitText",cancelText:"cancelText",type:"type"},decls:11,vars:5,consts:[[1,"modal-body",2,"margin-top","30px","margin-bottom","30px"],[3,"innerHtml",4,"ngIf"],[1,"modal-footer"],[1,"btn-holder",2,"text-align","right"],["type","button","role","button","aria-disabled","false",1,"btn","btn-default",2,"padding","4px 18px",3,"click"],["type","button","role","button","aria-disabled","false",1,"btn",2,"padding","4px 18px",3,"ngClass","click"],[3,"innerHtml"]],template:function(e,t){1&e&&(c.kc(0,"div"),c.kc(1,"div",0),c.kc(2,"p"),c.Uc(3),c.jc(),c.Sc(4,o,1,1,"p",1),c.jc(),c.kc(5,"div",2),c.kc(6,"div",3),c.kc(7,"button",4),c.sc("click",(function(){return t.bsModalRef.hide()})),c.Uc(8),c.jc(),c.kc(9,"button",5),c.sc("click",(function(){return t.confirm()})),c.Uc(10),c.jc(),c.jc(),c.jc(),c.jc()),2&e&&(c.Tb(3),c.Vc(t.message),c.Tb(1),c.Ac("ngIf",null!=t.subText),c.Tb(4),c.Vc(t.cancelText),c.Tb(1),c.Ac("ngClass","DANGER"===t.type?"btn-danger":"btn-primary"),c.Tb(1),c.Vc(t.submitText))},directives:[a.l,a.j],encapsulation:2})},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(0),r=n(10),i=n(4);class s{constructor(e){this.bsModalRef=e,this.message="Unable to complete your action"}}s.ɵfac=function(e){return new(e||s)(c.fc(r.a))},s.ɵcmp=c.Zb({type:s,selectors:[["error-modal"]],inputs:{message:"message"},decls:7,vars:1,consts:[[1,"modal-body","error-modal","text-center"],[1,"modal-form"],[1,"button-holder"],["type","button",1,"btn","btn-default",3,"click"]],template:function(e,t){1&e&&(c.kc(0,"div",0),c.kc(1,"form",1),c.kc(2,"p"),c.Uc(3),c.jc(),c.kc(4,"div",2),c.kc(5,"button",3),c.sc("click",(function(){return t.bsModalRef.hide()})),c.Uc(6,"Close"),c.jc(),c.jc(),c.jc(),c.jc()),2&e&&(c.Tb(3),c.Vc(t.message))},directives:[i.r,i.i,i.j],styles:[".modal-body.text-center[_ngcontent-%COMP%]{\n    background: white;\n    border: solid 1px red;\n}"]})},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(0),r=n(25),i=n(102),s=n(10),a=n(3);class o{constructor(e){this.bsModalRef=e,this.message="",this.submitText="Submit",this.type=i.a.warning}ngOnInit(){this.onConfirm=new r.b}confirm(){this.bsModalRef.hide(),this.onConfirm.next(this.data)}}o.ɵfac=function(e){return new(e||o)(c.fc(s.a))},o.ɵcmp=c.Zb({type:o,selectors:[["notification-modal"]],inputs:{message:"message",data:"data",submitText:"submitText",type:"type"},decls:9,vars:3,consts:[[1,"modal-body",2,"margin-top","30px","margin-bottom","30px"],[1,"modal-footer"],[1,"btn-holder",2,"text-align","right"],["type","button","role","button","aria-disabled","false",1,"btn",2,"padding","4px 18px",3,"ngClass","click"],[1,"ui-button-text"]],template:function(e,t){1&e&&(c.kc(0,"div"),c.kc(1,"div",0),c.kc(2,"p"),c.Uc(3),c.jc(),c.jc(),c.kc(4,"div",1),c.kc(5,"div",2),c.kc(6,"button",3),c.sc("click",(function(){return t.confirm()})),c.kc(7,"span",4),c.Uc(8),c.jc(),c.jc(),c.jc(),c.jc(),c.jc()),2&e&&(c.Tb(3),c.Vc(t.message),c.Tb(3),c.Ac("ngClass","DANGER"===t.type?"btn-danger":"btn-primary"),c.Tb(2),c.Vc(t.submitText))},directives:[a.j],encapsulation:2})},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var c=n(0),r=n(33),i=n(18),s=n(10),a=n(36),o=n(19),l=n(3),u=n(15),d=n(9);const f=function(e){return{"double-digit":e}};function g(e,t){if(1&e&&(c.kc(0,"span",14),c.Uc(1),c.jc()),2&e){const e=c.uc();c.Ac("ngClass",c.Ec(2,f,e.notificationCount>9)),c.Tb(1),c.Vc(e.notificationCount)}}function p(e,t){1&e&&c.gc(0,"hr")}function h(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",24),c.gc(2,"i"),c.gc(3,"localize",25),c.jc(),c.jc())}function m(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",26),c.gc(2,"i"),c.Uc(3," Session event log "),c.jc(),c.jc())}function b(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",27),c.gc(2,"i"),c.gc(3,"localize",28),c.jc(),c.jc())}function v(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",29),c.gc(2,"i"),c.gc(3,"localize",30),c.jc(),c.jc())}function k(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",31),c.Uc(2,"Sensors"),c.jc(),c.jc())}function y(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",32),c.Uc(2,"Platforms"),c.jc(),c.jc())}function w(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",33),c.gc(2,"i"),c.Uc(3,"System Info "),c.jc(),c.jc())}function j(e,t){if(1&e){const e=c.lc();c.kc(0,"ul",15),c.kc(1,"li",16),c.kc(2,"a",17),c.sc("click",(function(){return c.Lc(e),c.uc().account()})),c.gc(3,"localize",18),c.jc(),c.jc(),c.kc(4,"li",16),c.kc(5,"a",19),c.Uc(6,"Workflow Tasks"),c.jc(),c.jc(),c.kc(7,"li",16),c.kc(8,"a",20),c.Uc(9,"Site Viewer"),c.jc(),c.jc(),c.Sc(10,p,1,0,"hr",21),c.Sc(11,h,4,0,"li",22),c.Sc(12,m,4,0,"li",22),c.Sc(13,b,4,0,"li",22),c.Sc(14,v,4,0,"li",22),c.Sc(15,k,3,0,"li",22),c.Sc(16,y,3,0,"li",22),c.Sc(17,w,4,0,"li",22),c.gc(18,"hr"),c.kc(19,"li",16),c.kc(20,"a",23),c.Uc(21,"Log out"),c.jc(),c.jc(),c.jc()}if(2&e){const e=c.uc();c.Tb(10),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(3),c.Cc("href","",e.context,"/session/logout",c.Nc)}}class x{constructor(e,t,n){this.authService=e,this.modalService=t,this.profileService=n,this.userName="",this.admin=!1,this.externalProfile=!1,this.notificationCount=0,this.context=acp}ngOnInit(){this.userName=this.authService.getUserName(),this.admin=this.authService.isAdmin(),this.externalProfile=this.authService.isExternalProfile(),this.profileService.tasksCount().then(e=>{this.notificationCount=e.tasksCount})}account(){this.profileService.get().then(e=>{this.bsModalRef=this.modalService.show(r.a,{backdrop:"static",class:"gray modal-lg"}),this.bsModalRef.content.profile=e})}}x.ɵfac=function(e){return new(e||x)(c.fc(i.a),c.fc(s.b),c.fc(a.a))},x.ɵcmp=c.Zb({type:x,selectors:[["uasdm-header"]],inputs:{title:"title"},decls:17,vars:4,consts:[[1,"navbar","navbar-default"],[1,"container-fluid"],[1,"navbar-header"],["title","Home",1,"navbar-brand",3,"href"],[3,"src"],[1,"nav","navbar-nav","navbar-right"],["dropdown",""],["role","button","aria-haspopup","true","aria-expanded","false","dropdownToggle","",1,"dropdown-toggle"],[1,"glyphicon","glyphicon-menu-hamburger"],["class","task-badge",3,"ngClass",4,"ngIf"],["class","dropdown-menu",4,"dropdownMenu"],[1,"navbar-right","user-indicator"],[1,"navbar-text"],[2,"color","white"],[1,"task-badge",3,"ngClass"],[1,"dropdown-menu"],["role","menuitem"],["id","account-btn",1,"user-command-link","link-active",3,"click"],["key","userDashboards.account"],["routerLink","/site/tasks","routerLinkActive","active",1,"dropdown-item"],["routerLink","/site/viewer","routerLinkActive","active",1,"dropdown-item"],[4,"ngIf"],["role","menuitem",4,"ngIf"],[1,"dropdown-item",3,"href"],["routerLink","/admin/accounts","routerLinkActive","active",1,"dropdown-item"],["key","accounts.link"],["routerLink","/admin/session-events","routerLinkActive","active",1,"dropdown-item"],["routerLink","/admin/logos","routerLinkActive","active",1,"dropdown-item"],["key","Icons"],["routerLink","/admin/email","routerLinkActive","active",1,"dropdown-item"],["key","email.link"],["routerLink","/site/sensors","routerLinkActive","active",1,"dropdown-item"],["routerLink","/site/platforms","routerLinkActive","active",1,"dropdown-item"],["routerLink","/admin/system-info","routerLinkActive","active",1,"dropdown-item"]],template:function(e,t){1&e&&(c.kc(0,"header"),c.kc(1,"nav",0),c.kc(2,"div",1),c.kc(3,"div",2),c.kc(4,"a",3),c.gc(5,"img",4),c.jc(),c.jc(),c.kc(6,"ul",5),c.kc(7,"li",6),c.kc(8,"a",7),c.kc(9,"span",8),c.Sc(10,g,2,4,"span",9),c.jc(),c.jc(),c.Sc(11,j,22,9,"ul",10),c.jc(),c.jc(),c.kc(12,"div",11),c.kc(13,"p",12),c.Uc(14," Logged in as "),c.kc(15,"b",13),c.Uc(16),c.jc(),c.jc(),c.jc(),c.jc(),c.jc(),c.jc()),2&e&&(c.Tb(4),c.Cc("href","",t.context,"/project/management#/menu",c.Nc),c.Tb(1),c.Ac("src",t.context+"/logo/view?id=logo",c.Nc),c.Tb(5),c.Ac("ngIf",t.notificationCount>0),c.Tb(6),c.Vc(t.userName))},directives:[o.a,o.d,l.l,o.b,l.j,u.a,d.d,d.c],styles:[".navbar-right.user-indicator[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]{\n    color: white;\n}\n\n.task-badge[_ngcontent-%COMP%] {\n  position: absolute;\n  top: -12px;\n  right: -13px;\n  padding: 3px 7px;\n  border-radius: 50%;\n  background: orange;\n  color: white;\n  font-size: 18px;\n  font-weight: bold;\n  border: solid 3px #7c868d;\n}\n.task-badge.double-digit[_ngcontent-%COMP%] {\n  padding: 5px 5px;\n}"]})},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0),r=n(4);class i{constructor(){this.mustMatch=[]}validate(e){return(t=this.mustMatch[0],n=this.mustMatch[1],e=>{const c=e.controls[t],r=e.controls[n];return c&&r?r.errors&&!r.errors.mustMatch?null:void(c.value!==r.value?r.setErrors({mustMatch:!0}):r.setErrors(null)):null})(e);var t,n}}i.ɵfac=function(e){return new(e||i)},i.ɵdir=c.ac({type:i,selectors:[["","mustMatch",""]],inputs:{mustMatch:"mustMatch"},features:[c.Sb([{provide:r.f,useExisting:i,multi:!0}])]})},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(4),r=n(0);class i{validate(e){if(console.log("Checking password strength"),null!=e.value&&""!==e.value){let t=!0;return RegExp("(?=.*[0-9].*[0-9]).*").test(e.value)||(t=!1),RegExp("(?=.*[a-z].*[a-z]).*").test(e.value)||(t=!1),RegExp("(?=.*[A-Z].*[A-Z]).*").test(e.value)||(t=!1),RegExp("(?=.*[~!@#$%^&*()_-].*[~!@#$%^&*()_-]).*").test(e.value)||(t=!1),t?null:{passwordStrength:!0}}return null}}i.ɵfac=function(e){return new(e||i)},i.ɵdir=r.ac({type:i,selectors:[["","passwordValidator",""]],features:[r.Sb([{provide:c.f,useExisting:i,multi:!0}])]})},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(0),r=n(8),i=n(125),s=n(26),a=n(18);class o{constructor(e,t,n){this.eventService=e,this.http=t,this.authService=n}login(e,t){let n=new r.f({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/session/login",JSON.stringify({username:e,password:t}),{headers:n}).pipe(Object(i.a)(()=>{this.eventService.complete()})).toPromise().then(e=>(this.authService.setUser(e),e))}logout(){let e=new r.f({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/session/logout",{headers:e}).pipe(Object(i.a)(()=>{this.eventService.complete()})).toPromise().then(()=>{this.authService.setUser(null)})}}o.ɵfac=function(e){return new(e||o)(c.oc(s.a),c.oc(r.c),c.oc(a.a))},o.ɵprov=c.bc({token:o,factory:o.ɵfac})},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(0),r=n(3),i=n(15);function s(e,t){if(1&e&&(c.kc(0,"label",4),c.Uc(1),c.jc()),2&e){const e=c.uc();c.Tb(1),c.Vc(e.label)}}function a(e,t){if(1&e&&(c.kc(0,"label",4),c.gc(1,"localize",5),c.jc()),2&e){const e=c.uc();c.Tb(1),c.Bc("key",e.localizeLabelKey)}}const o=function(e){return{"chk-checked":e}};class l{constructor(){this.value=!1,this.disabled=!1,this.localizeLabelKey="",this.label="",this.valueChange=new c.t}toggle(){this.disabled||(this.value=!this.value,this.valueChange.emit(this.value))}}l.ɵfac=function(e){return new(e||l)},l.ɵcmp=c.Zb({type:l,selectors:[["boolean-field"]],inputs:{value:"value",disabled:"disabled",localizeLabelKey:"localizeLabelKey",label:"label"},outputs:{valueChange:"valueChange"},decls:7,vars:5,consts:[[1,"check-block","form-group"],["ng-style","chkstyle",1,"jcf-unselectable","chk-area",3,"ngClass","click"],["class","checkbox-label",4,"ngIf"],[1,"row"],[1,"checkbox-label"],[3,"key"]],template:function(e,t){1&e&&(c.kc(0,"div"),c.kc(1,"div",0),c.kc(2,"div",1),c.sc("click",(function(){return t.toggle()})),c.gc(3,"span"),c.jc(),c.Sc(4,s,2,1,"label",2),c.Sc(5,a,2,1,"label",2),c.jc(),c.gc(6,"div",3),c.jc()),2&e&&(c.Tb(2),c.Ac("ngClass",c.Ec(3,o,t.value)),c.Tb(2),c.Ac("ngIf",t.label.length>0),c.Tb(1),c.Ac("ngIf",t.localizeLabelKey.length>0))},directives:[r.j,r.l,i.a],styles:[".modal-form[_ngcontent-%COMP%]   .holder[_ngcontent-%COMP%]   .check-block[_ngcontent-%COMP%]   .chk-area[_ngcontent-%COMP%] {margin: 10px 0px 0 0;}"]})},72:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l.a})),n.d(t,"a",(function(){return o.a}));var c=n(8);class r{static getMessageFromError(e){var t="An unspecified error has occurred.  Please try your operation again.  If the problem continues, alert your technical support staff.";if(null==e)return t;console.log("An error has occurred: ",e);let n=null;return null!=e.error&&"object"==typeof e.error&&(n=e.error.localizedMessage||e.error.message),null==n&&(n=e.message||e.msg||e.localizedMessage),null!=n&&n.includes("##tferrormsg##")?n.split("##tferrormsg##")[2]:(null==n&&(n=t),n)}static showErrorAsDialog(e,t){if(e instanceof c.e&&401==e.status)return null;let n=t.show(l.a,{backdrop:!0});return n.content.message=r.getMessageFromError(e),n}}var i=n(50),s=n(32),a=n(15),o=n(40),l=n(42),u=n(43),d=n(28),f=n(33);i.a,s.a,a.a,o.a,l.a,u.a,d.a,f.a},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0),r=n(3);class i{constructor(e){this.locale=e}transform(e,t="MMM dd, yyyy hh:mm:ss"){e=new Date(e);let n=new r.d(this.locale).transform(e,t);return n=n+" "+this.getTimezoneName(),n}getTimezoneName(){const e=new Date,t=e.toLocaleDateString(void 0),n=e.toLocaleDateString(void 0,{timeZoneName:"short"}),c=n.indexOf(t);if(c>=0){return(n.substring(0,c)+n.substring(c+t.length)).replace(/^[\s,.\-:;]+|[\s,.\-:;]+$/g,"")}return Intl.DateTimeFormat().resolvedOptions().timeZone}}i.ɵfac=function(e){return new(e||i)(c.fc(c.F))},i.ɵpipe=c.ec({name:"idmdate",type:i,pure:!0})},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0),r=n(20);class i{constructor(e){this.sanitizer=e}transform(e,t){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}i.ɵfac=function(e){return new(e||i)(c.fc(r.b))},i.ɵpipe=c.ec({name:"safeHtml",type:i,pure:!0})},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(4),r=n(0),i=n(96);class s{validate(e){if(null!=e.value&&""!==e.value){try{const t=i.PhoneNumberUtil.getInstance(),n=""+e.value,c=t.parseAndKeepRawInput(n,"US");if(t.isValidNumber(c))return null}catch(t){return console.log(t,e.value),{phoneNumber:!0}}return{phoneNumber:!0}}return null}}s.ɵfac=function(e){return new(e||s)},s.ɵdir=r.ac({type:s,selectors:[["","phoneNumber",""]],features:[r.Sb([{provide:c.f,useExisting:s,multi:!0}])]})},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var c=n(0),r=n(3),i=n(9),s=n(4),a=n(58),o=n(10),l=n(19),u=n(57),d=n(45),f=n(44),g=n(22),p=n(50),h=n(15),m=n(32),b=n(69),v=n(33),k=n(42),y=n(40),w=n(43),j=n(94),x=n(28),C=n(21);class T{transform(e,t){let n=new Array;for(let t in e)n.push({key:t,value:e[t]});return n}}T.ɵfac=function(e){return new(e||T)},T.ɵpipe=c.ec({name:"keys",type:T,pure:!1});var M=n(95);class S{transform(e,t,n){return e?e.filter(e=>e[t]===n):[]}}S.ɵfac=function(e){return new(e||S)},S.ɵpipe=c.ec({name:"filter",type:S,pure:!0});var A=n(88),P=n(86),I=n(55),O=n(92),z=n(56),N=n(153);class L{constructor(){this.listeners=[]}registerListener(e){this.listeners.push(e)}deregisterListener(e){let t=this.listeners.indexOf(e);return-1!==t&&(this.listeners.splice(t,1),!0)}start(){for(const e of this.listeners)e.start()}progress(e){for(const t of this.listeners)t.progress(e)}complete(){for(const e of this.listeners)e.complete()}}L.ɵfac=function(e){return new(e||L)},L.ɵprov=c.bc({token:L,factory:L.ɵfac});var R=n(26),U=n(35),D=n(18),E=n(36),_=n(62),F=n(126),V=n(152);class Z{static forRoot(){return{ngModule:Z,providers:[a.a,D.a,_.a,E.a,U.a,R.a,L,N.a,F.a,F.b,V.a]}}}Z.ɵmod=c.dc({type:Z}),Z.ɵinj=c.cc({factory:function(e){return new(e||Z)},imports:[[r.b,i.e,s.c,o.c.forRoot(),f.b,l.c,u.b,d.a,g.b.forRoot()]]}),("undefined"==typeof ngJitMode||ngJitMode)&&c.Oc(Z,{declarations:[p.a,m.a,v.a,y.a,w.a,k.a,h.a,b.a,j.a,x.a,T,C.a,M.a,S,A.a,P.a,I.a,O.a,z.a],imports:[r.b,i.e,s.c,o.c,f.b,l.c,u.b,d.a,g.b],exports:[p.a,m.a,y.a,w.a,k.a,b.a,h.a,j.a,x.a,T,C.a,M.a,S,A.a,P.a,I.a,O.a,z.a]})},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(0),r=n(87),i=n(3);const s=function(e,t){return{active:e,enabled:t}};function a(e,t){if(1&e&&(c.kc(0,"li",4),c.Uc(1),c.jc()),2&e){const e=t.$implicit;c.Ac("@fadeInOnEnter",void 0)("ngClass",c.Fc(3,s,e.active,e.enabled)),c.Tb(1),c.Vc(e.label)}}function o(e,t){if(1&e&&(c.kc(0,"ul",2),c.Sc(1,a,2,6,"li",3),c.jc()),2&e){const e=c.uc();c.Tb(1),c.Ac("ngForOf",e.stepConfig.steps)}}class l{constructor(){}ngOnInit(){}ngOnChanges(e){}ngOnDestroy(){}setActiveStep(e){}setStepConfig(e){this.stepConfig=e}}l.ɵfac=function(e){return new(e||l)},l.ɵcmp=c.Zb({type:l,selectors:[["modal-step-indicator"]],inputs:{stepConfig:"stepConfig"},features:[c.Rb],decls:2,vars:1,consts:[[1,"step-indicator"],["class","list-inline nav nav-justified",4,"ngIf"],[1,"list-inline","nav","nav-justified"],["class","nav-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"nav-item",3,"ngClass"]],template:function(e,t){1&e&&(c.kc(0,"div",0),c.Sc(1,o,2,1,"ul",1),c.jc()),2&e&&(c.Tb(1),c.Ac("ngIf",t.stepConfig&&t.stepConfig.steps&&t.stepConfig.steps.length>0))},directives:[i.l,i.k,i.j],styles:[".step-indicator[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%] {\n    height: 50px;\n    background: white;\n    text-align: center;\n    vertical-align: middle;\n    border-bottom: 4px solid lightgrey;\n    font-size: 18px;\n    color: lightgrey;\n}\n.step-indicator[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{\n    \n    \n}\n.step-indicator[_ngcontent-%COMP%]   .nav-item.active.enabled[_ngcontent-%COMP%]{\n    \n    border-bottom: 4px solid black;\n    font-weight: bold;\n    color: black;\n}"],data:{animation:[Object(r.c)(),Object(r.d)()]},changeDetection:0})},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0),r=n(96);class i{transform(e,t){const n=r.PhoneNumberUtil.getInstance();if(null!=e&&""!==e){const t=n.parseAndKeepRawInput(e,"US");if(n.isValidNumber(t))return n.format(t,r.PhoneNumberFormat.INTERNATIONAL)}return e}}i.ɵfac=function(e){return new(e||i)},i.ɵpipe=c.ec({name:"phone",type:i,pure:!0})}}]);
//# sourceMappingURL=0.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){"use strict";var c;n.d(t,"a",(function(){return c})),function(e){e.warning="WARNING",e.danger="DANGER"}(c||(c={}))},124:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o.a})),n.d(t,"a",(function(){return a.a}));class c{static getMessageFromError(e){var t="An unspecified error has occurred. Please contact your technical support team.";if(null==e)return t;if(console.log("An error has occurred: ",e),null!=e.error){var n=e.error.localizedMessage||e.error.message;return null==n?t:n.includes("##tferrormsg##")?n.split("##tferrormsg##")[2]:n}return t}}var i=n(49),r=n(32),s=n(15),a=n(39),o=n(41),l=n(42),u=n(28),d=n(33);i.a,r.a,s.a,a.a,o.a,l.a,u.a,d.a},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var c=n(0),i=n(22),r=n(9);class s{constructor(e,t){this.service=e,this.router=t}canActivate(e,t){return!!this.service.isAdmin()||(this.router.navigate(["/profile"]),!1)}}s.ɵfac=function(e){return new(e||s)(c.oc(i.a),c.oc(r.b))},s.ɵprov=c.bc({token:s,factory:s.ɵfac});class a{constructor(e,t){this.service=e,this.router=t}canActivate(e,t){return!!this.service.isLoggedIn()||(this.router.navigate(["/login"]),!1)}}a.ɵfac=function(e){return new(e||a)(c.oc(i.a),c.oc(r.b))},a.ɵprov=c.bc({token:a,factory:a.ɵfac})},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0),i=n(60);class r{constructor(e){this.service=e}ngOnInit(){this.text=this.service.decode(this.key)}}r.ɵfac=function(e){return new(e||r)(c.fc(i.a))},r.ɵcmp=c.Zb({type:r,selectors:[["localize"]],inputs:{key:"key"},decls:1,vars:1,template:function(e,t){1&e&&c.Tc(0),2&e&&c.Uc(t.text)},encapsulation:2})},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0),i=n(8);class r extends i.c{constructor(e){super(e)}}r.ɵfac=function(e){return new(e||r)(c.oc(i.b))},r.ɵprov=c.bc({token:r,factory:r.ɵfac})},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0),i=n(60);class r{constructor(e){this.service=e}transform(e){return this.service.decode(e)}}r.ɵfac=function(e){return new(e||r)(c.fc(i.a))},r.ɵpipe=c.ec({name:"localize",type:r,pure:!0})},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0),i=n(57);class r{constructor(e){if(this.service=e,this.user={loggedIn:!1,userName:"",roles:[]},this.service.check("user")){let e=this.service.get("user"),t=JSON.parse(e);this.user.userName=t.userName,this.user.roles=t.roles,this.user.loggedIn=!0}}setUser(e){this.user=e}removeUser(){this.user={loggedIn:!1,userName:"",roles:[]}}getUserName(){return this.user.userName}isLoggedIn(){return this.user.loggedIn}isAdmin(){return-1!==this.user.roles.indexOf("geoprism.admin.Administrator")}isWorker(){return this.isAdmin()||-1!==this.user.roles.indexOf("geoprism.admin.DashboardBuilder")}}r.ɵfac=function(e){return new(e||r)(c.oc(i.a))},r.ɵprov=c.bc({token:r,factory:r.ɵfac})},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0);class i{constructor(){this.listeners=[]}registerListener(e){this.listeners.push(e)}deregisterListener(e){let t=this.listeners.indexOf(e);return-1!==t&&(this.listeners.splice(t,1),!0)}start(){for(const e of this.listeners)e.start()}complete(){for(const e of this.listeners)e.complete()}}i.ɵfac=function(e){return new(e||i)},i.ɵprov=c.bc({token:i,factory:i.ɵfac})},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0);class i{constructor(){this.colors=["#F00","#F90","#FF0","#9F0","#0F0"]}static measureStrength(e){let t=0,n={};for(let c=0;c<e.length;c++)n[e[c]]=(n[e[c]]||0)+1,t+=5/n[e[c]];let c={digits:/\d/.test(e),lower:/[a-z]/.test(e),upper:/[A-Z]/.test(e),nonWords:/\W/.test(e)},i=0;for(let e in c)i+=c[e]?1:0;return t+=10*(i-1),Math.trunc(t)}getColor(e){let t=0;return e>90?t=4:e>70?t=3:e>=40?t=2:e>=20&&(t=1),{idx:t+1,col:this.colors[t]}}ngOnChanges(e){var t=e.passwordToCheck.currentValue;if(this.setBarColors(5,"#DDD"),t){let e=this.getColor(i.measureStrength(t));this.setBarColors(e.idx,e.col)}}setBarColors(e,t){for(let n=0;n<e;n++)this["bar"+n]=t}}i.ɵfac=function(e){return new(e||i)},i.ɵcmp=c.Zb({type:i,selectors:[["password-strength-bar"]],inputs:{passwordToCheck:"passwordToCheck"},features:[c.Rb],decls:8,vars:10,consts:[["id","strength",2,"margin","11px"],["strength",""],["id","strengthBar"],[1,"point"]],template:function(e,t){1&e&&(c.kc(0,"div",0,1),c.kc(2,"ul",2),c.gc(3,"li",3),c.gc(4,"li",3),c.gc(5,"li",3),c.gc(6,"li",3),c.gc(7,"li",3),c.jc(),c.jc()),2&e&&(c.Tb(3),c.Qc("background-color",t.bar0),c.Tb(1),c.Qc("background-color",t.bar1),c.Tb(1),c.Qc("background-color",t.bar2),c.Tb(1),c.Qc("background-color",t.bar3),c.Tb(1),c.Qc("background-color",t.bar4))},styles:["ul#strengthBar[_ngcontent-%COMP%] {\n\tdisplay: inline;\n\tlist-style: none;\n\tmargin: 0;\n\tmargin-left: 15px;\n\tpadding: 0;\n\tvertical-align: 2px;\n}\n\n.point[_ngcontent-%COMP%]:last {\n\tmargin: 0 !important;\n}\n\n.point[_ngcontent-%COMP%] {\n\tbackground: #DDD;\n\tborder-radius: 2px;\n\tdisplay: inline-block;\n\theight: 5px;\n\tmargin-right: 1px;\n\twidth: 20px;\n}"]})},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(0),i=n(26),r=n(3);function s(e,t){1&e&&c.gc(0,"div",1)}class a{constructor(e){this.service=e,this.showIndicator=!1}ngOnInit(){this.service.registerListener(this)}ngOnDestroy(){this.service.deregisterListener(this)}start(){this.showIndicator=!0}complete(){this.showIndicator=!1}}a.ɵfac=function(e){return new(e||a)(c.fc(i.a))},a.ɵcmp=c.Zb({type:a,selectors:[["loading-bar"]],decls:1,vars:1,consts:[["class","standby-overlay","style","height: 100%; width: 100%; z-index: 100;",4,"ngIf"],[1,"standby-overlay",2,"height","100%","width","100%","z-index","100"]],template:function(e,t){1&e&&c.Rc(0,s,1,0,"div",0),2&e&&c.Ac("ngIf",t.showIndicator)},directives:[r.k],encapsulation:2})},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var c=n(0),i=n(35),r=n(12),s=n(4),a=n(54),o=n(15),l=n(3),u=n(69),d=n(55),f=n(28),p=n(20);function g(e,t){1&e&&(c.kc(0,"div",21),c.gc(1,"localize",22),c.jc())}function h(e,t){1&e&&(c.kc(0,"div",21),c.Tc(1," The password must be at least 14 characters in length and must contain at least: Two uppercase letters [A-Z], two lowercase letters [a-z], two digits [0-9], and two special characters [e.g.: !@#$*&] "),c.jc())}function b(e,t){1&e&&(c.kc(0,"div",21),c.gc(1,"localize",30),c.jc())}function m(e,t){if(1&e){const e=c.lc();c.kc(0,"div"),c.kc(1,"div",4),c.kc(2,"label"),c.gc(3,"localize",23),c.jc(),c.kc(4,"input",24,25),c.sc("ngModelChange",(function(t){return c.Lc(e),c.uc().profile.password=t})),c.jc(),c.gc(6,"password-strength-bar",26),c.Rc(7,h,2,0,"div",12),c.jc(),c.kc(8,"div",4),c.kc(9,"label"),c.gc(10,"localize",27),c.jc(),c.gc(11,"input",28,29),c.Rc(13,b,2,0,"div",12),c.jc(),c.jc()}if(2&e){const e=c.Jc(5),t=c.Jc(12),n=c.uc();c.Tb(4),c.Ac("ngModel",n.profile.password),c.Tb(2),c.Ac("passwordToCheck",n.profile.password),c.Tb(1),c.Ac("ngIf",null==e.errors?null:e.errors.passwordStrength),c.Tb(4),c.Ac("ngModel",t),c.Tb(2),c.Ac("ngIf",t.errors&&t.errors.mustMatch)}}const v=function(){return["password","certainPassword"]};class k{constructor(e,t){this.service=e,this.bsModalRef=t,this.profile={oid:"",username:"",password:"",firstName:"",lastName:"",email:"",changePassword:!1}}onSubmit(){this.profile.changePassword||delete this.profile.password,this.service.apply(this.profile).then(e=>{this.bsModalRef.hide()})}cancel(){this.service.unlock(this.profile.oid).then(e=>{this.bsModalRef.hide()})}}k.ɵfac=function(e){return new(e||k)(c.fc(i.a),c.fc(r.a))},k.ɵcmp=c.Zb({type:k,selectors:[["profile"]],decls:38,vars:20,consts:[[1,"modal-body"],[3,"mustMatch","ngSubmit"],["form","ngForm"],[1,"heading"],[1,"form-group"],["key","account.firstname"],["type","text","name","firstname","required","",3,"ngModel","ngModelChange"],["key","account.lastname"],["type","text","name","lastname","required","",3,"ngModel","ngModelChange"],["key","account.email"],["type","email","name","email","required","","email","",3,"ngModel","ngModelChange"],["aemail","ngModel"],["class","inline-error-message",4,"ngIf"],["key","account.info.heading"],["key","account.username"],["type","text","name","username","required","",3,"disabled","ngModel","ngModelChange"],[3,"value","label","valueChange"],[4,"ngIf"],[1,"btn-holder",2,"text-align","right"],["type","button",1,"btn","btn-default",3,"value","click"],["type","submit",1,"btn","btn-primary",3,"value","disabled"],[1,"inline-error-message"],["key","account.email.validation"],["key","account.password"],["type","password","name","password","required","","minlength","5","maxlength","50","passwordValidator","",3,"ngModel","ngModelChange"],["password","ngModel"],[3,"passwordToCheck"],["key","account.certainPassword"],["type","password","name","certainPassword","required","",3,"ngModel"],["certainPassword","ngModel"],["key","account.certainPassword.validation"]],template:function(e,t){if(1&e){const e=c.lc();c.kc(0,"div",0),c.kc(1,"form",1,2),c.sc("ngSubmit",(function(){return c.Lc(e),c.Jc(2).valid&&t.onSubmit()})),c.kc(3,"div",3),c.kc(4,"h3"),c.Tc(5,"User Profile"),c.jc(),c.jc(),c.gc(6,"hr"),c.kc(7,"div",4),c.kc(8,"label"),c.gc(9,"localize",5),c.jc(),c.kc(10,"input",6),c.sc("ngModelChange",(function(e){return t.profile.firstName=e})),c.jc(),c.jc(),c.kc(11,"div",4),c.kc(12,"label"),c.gc(13,"localize",7),c.jc(),c.kc(14,"input",8),c.sc("ngModelChange",(function(e){return t.profile.lastName=e})),c.jc(),c.jc(),c.kc(15,"div",4),c.kc(16,"label"),c.gc(17,"localize",9),c.jc(),c.kc(18,"input",10,11),c.sc("ngModelChange",(function(e){return t.profile.email=e})),c.jc(),c.Rc(20,g,2,0,"div",12),c.jc(),c.kc(21,"div",3),c.kc(22,"h3"),c.gc(23,"localize",13),c.jc(),c.jc(),c.gc(24,"hr"),c.kc(25,"div",4),c.kc(26,"label"),c.gc(27,"localize",14),c.jc(),c.kc(28,"input",15),c.sc("ngModelChange",(function(e){return t.profile.username=e})),c.jc(),c.jc(),c.kc(29,"div",4),c.kc(30,"boolean-field",16),c.sc("valueChange",(function(e){return t.profile.changePassword=e})),c.vc(31,"localize"),c.jc(),c.jc(),c.Rc(32,m,14,5,"div",17),c.kc(33,"div",18),c.kc(34,"input",19),c.sc("click",(function(){return t.cancel()})),c.vc(35,"localize"),c.jc(),c.gc(36,"input",20),c.vc(37,"localize"),c.jc(),c.jc(),c.jc()}if(2&e){const e=c.Jc(2),n=c.Jc(19);c.Tb(1),c.Ac("mustMatch",c.Dc(19,v)),c.Tb(9),c.Ac("ngModel",t.profile.firstName),c.Tb(4),c.Ac("ngModel",t.profile.lastName),c.Tb(4),c.Ac("ngModel",t.profile.email),c.Tb(2),c.Ac("ngIf",null==n.errors?null:n.errors.email),c.Tb(8),c.Ac("disabled","admin"===t.profile.username)("ngModel",t.profile.username),c.Tb(2),c.Ac("value",t.profile.changePassword)("label",c.wc(31,13,"account.changePassword")),c.Tb(2),c.Ac("ngIf",t.profile.changePassword),c.Tb(2),c.Ac("value",c.wc(35,15,"dataset.cancel")),c.Tb(2),c.Ac("value",c.wc(37,17,"dataset.submit"))("disabled",!e.valid)}},directives:[s.r,s.i,s.j,a.a,o.a,s.a,s.o,s.h,s.k,s.b,l.k,u.a,s.e,s.d,d.a,f.a],pipes:[p.a],styles:[".modal-form[_ngcontent-%COMP%]   .check-block[_ngcontent-%COMP%]   .chk-area[_ngcontent-%COMP%] { margin: 10px 0px 0 0;}"]})},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(0),i=n(8),r=n(123),s=n(26);class a{constructor(e,t){this.eventService=e,this.http=t}get(){let e=new i.f({"Content-Type":"application/json"});return this.http.post(acp+"/account/get",{headers:e}).toPromise()}apply(e){let t=new i.f({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/account/apply",JSON.stringify({account:e}),{headers:t}).pipe(Object(r.a)(()=>{this.eventService.complete()})).toPromise()}unlock(e){let t=new i.f({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/account/unlock",JSON.stringify({oid:e}),{headers:t}).pipe(Object(r.a)(()=>{this.eventService.complete()})).toPromise()}tasksCount(){let e=new i.g;return e=e.set("statuses",JSON.stringify(["Error","Failed"])),this.http.get(acp+"/project/tasks-count",{params:e}).toPromise()}}a.ɵfac=function(e){return new(e||a)(c.oc(s.a),c.oc(i.c))},a.ɵprov=c.bc({token:a,factory:a.ɵfac})},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(0),i=n(25),r=n(100),s=n(12),a=n(3);function o(e,t){if(1&e&&c.gc(0,"p",6),2&e){const e=c.uc();c.Ac("innerHtml",e.subText,c.Mc)}}class l{constructor(e){this.bsModalRef=e,this.message="Are you sure?",this.subText=null,this.submitText="Submit",this.cancelText="Cancel",this.type=r.a.warning}ngOnInit(){this.onConfirm=new i.b}confirm(){this.bsModalRef.hide(),this.onConfirm.next(this.data)}}l.ɵfac=function(e){return new(e||l)(c.fc(s.a))},l.ɵcmp=c.Zb({type:l,selectors:[["basic-confirm-modal"]],inputs:{message:"message",subText:"subText",data:"data",submitText:"submitText",cancelText:"cancelText",type:"type"},decls:11,vars:5,consts:[[1,"modal-body",2,"margin-top","30px","margin-bottom","30px"],[3,"innerHtml",4,"ngIf"],[1,"modal-footer"],[1,"btn-holder",2,"text-align","right"],["type","button","role","button","aria-disabled","false",1,"btn","btn-default",2,"padding","4px 18px",3,"click"],["type","button","role","button","aria-disabled","false",1,"btn",2,"padding","4px 18px",3,"ngClass","click"],[3,"innerHtml"]],template:function(e,t){1&e&&(c.kc(0,"div"),c.kc(1,"div",0),c.kc(2,"p"),c.Tc(3),c.jc(),c.Rc(4,o,1,1,"p",1),c.jc(),c.kc(5,"div",2),c.kc(6,"div",3),c.kc(7,"button",4),c.sc("click",(function(){return t.bsModalRef.hide()})),c.Tc(8),c.jc(),c.kc(9,"button",5),c.sc("click",(function(){return t.confirm()})),c.Tc(10),c.jc(),c.jc(),c.jc(),c.jc()),2&e&&(c.Tb(3),c.Uc(t.message),c.Tb(1),c.Ac("ngIf",null!=t.subText),c.Tb(4),c.Uc(t.cancelText),c.Tb(1),c.Ac("ngClass","DANGER"===t.type?"btn-danger":"btn-primary"),c.Tb(1),c.Uc(t.submitText))},directives:[a.k,a.i],encapsulation:2})},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(0),i=n(12),r=n(4);class s{constructor(e){this.bsModalRef=e,this.message="Unable to complete your action"}}s.ɵfac=function(e){return new(e||s)(c.fc(i.a))},s.ɵcmp=c.Zb({type:s,selectors:[["error-modal"]],inputs:{message:"message"},decls:7,vars:1,consts:[[1,"modal-body","error-modal","text-center"],[1,"modal-form"],[1,"button-holder"],["type","button",1,"btn","btn-default",3,"click"]],template:function(e,t){1&e&&(c.kc(0,"div",0),c.kc(1,"form",1),c.kc(2,"p"),c.Tc(3),c.jc(),c.kc(4,"div",2),c.kc(5,"button",3),c.sc("click",(function(){return t.bsModalRef.hide()})),c.Tc(6,"Close"),c.jc(),c.jc(),c.jc(),c.jc()),2&e&&(c.Tb(3),c.Uc(t.message))},directives:[r.r,r.i,r.j],styles:[".modal-body.text-center[_ngcontent-%COMP%]{\n    background: white;\n    border: solid 1px red;\n}"]})},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(0),i=n(25),r=n(100),s=n(12),a=n(3);class o{constructor(e){this.bsModalRef=e,this.message="",this.submitText="Submit",this.type=r.a.warning}ngOnInit(){this.onConfirm=new i.b}confirm(){this.bsModalRef.hide(),this.onConfirm.next(this.data)}}o.ɵfac=function(e){return new(e||o)(c.fc(s.a))},o.ɵcmp=c.Zb({type:o,selectors:[["notification-modal"]],inputs:{message:"message",data:"data",submitText:"submitText",type:"type"},decls:9,vars:3,consts:[[1,"modal-body",2,"margin-top","30px","margin-bottom","30px"],[1,"modal-footer"],[1,"btn-holder",2,"text-align","right"],["type","button","role","button","aria-disabled","false",1,"btn",2,"padding","4px 18px",3,"ngClass","click"],[1,"ui-button-text"]],template:function(e,t){1&e&&(c.kc(0,"div"),c.kc(1,"div",0),c.kc(2,"p"),c.Tc(3),c.jc(),c.jc(),c.kc(4,"div",1),c.kc(5,"div",2),c.kc(6,"button",3),c.sc("click",(function(){return t.confirm()})),c.kc(7,"span",4),c.Tc(8),c.jc(),c.jc(),c.jc(),c.jc(),c.jc()),2&e&&(c.Tb(3),c.Uc(t.message),c.Tb(3),c.Ac("ngClass","DANGER"===t.type?"btn-danger":"btn-primary"),c.Tb(2),c.Uc(t.submitText))},directives:[a.i],encapsulation:2})},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var c=n(0),i=n(33),r=n(22),s=n(12),a=n(35),o=n(18),l=n(3),u=n(15),d=n(9);const f=function(e){return{"double-digit":e}};function p(e,t){if(1&e&&(c.kc(0,"span",14),c.Tc(1),c.jc()),2&e){const e=c.uc();c.Ac("ngClass",c.Ec(2,f,e.notificationCount>9)),c.Tb(1),c.Uc(e.notificationCount)}}function g(e,t){1&e&&c.gc(0,"hr")}function h(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",24),c.gc(2,"i"),c.gc(3,"localize",25),c.jc(),c.jc())}function b(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",26),c.gc(2,"i"),c.Tc(3," Session event log "),c.jc(),c.jc())}function m(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",27),c.gc(2,"i"),c.gc(3,"localize",28),c.jc(),c.jc())}function v(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",29),c.gc(2,"i"),c.gc(3,"localize",30),c.jc(),c.jc())}function k(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",31),c.Tc(2,"Sensors"),c.jc(),c.jc())}function w(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",32),c.Tc(2,"Platforms"),c.jc(),c.jc())}function y(e,t){1&e&&(c.kc(0,"li",16),c.kc(1,"a",33),c.gc(2,"i"),c.Tc(3,"System Info "),c.jc(),c.jc())}function j(e,t){if(1&e){const e=c.lc();c.kc(0,"ul",15),c.kc(1,"li",16),c.kc(2,"a",17),c.sc("click",(function(){return c.Lc(e),c.uc().account()})),c.gc(3,"localize",18),c.jc(),c.jc(),c.kc(4,"li",16),c.kc(5,"a",19),c.Tc(6,"Workflow Tasks"),c.jc(),c.jc(),c.kc(7,"li",16),c.kc(8,"a",20),c.Tc(9,"Site Viewer"),c.jc(),c.jc(),c.Rc(10,g,1,0,"hr",21),c.Rc(11,h,4,0,"li",22),c.Rc(12,b,4,0,"li",22),c.Rc(13,m,4,0,"li",22),c.Rc(14,v,4,0,"li",22),c.Rc(15,k,3,0,"li",22),c.Rc(16,w,3,0,"li",22),c.Rc(17,y,4,0,"li",22),c.gc(18,"hr"),c.kc(19,"li",16),c.kc(20,"a",23),c.Tc(21,"Log out"),c.jc(),c.jc(),c.jc()}if(2&e){const e=c.uc();c.Tb(10),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(1),c.Ac("ngIf",e.admin),c.Tb(3),c.Cc("href","",e.context,"/session/logout",c.Nc)}}class T{constructor(e,t,n){this.authService=e,this.modalService=t,this.profileService=n,this.userName="",this.admin=!1,this.notificationCount=0,this.context=acp}ngOnInit(){this.userName=this.authService.getUserName(),this.admin=this.authService.isAdmin(),this.profileService.tasksCount().then(e=>{this.notificationCount=e.tasksCount})}account(){this.profileService.get().then(e=>{this.bsModalRef=this.modalService.show(i.a,{backdrop:"static",class:"gray modal-lg"}),this.bsModalRef.content.profile=e})}}T.ɵfac=function(e){return new(e||T)(c.fc(r.a),c.fc(s.b),c.fc(a.a))},T.ɵcmp=c.Zb({type:T,selectors:[["uasdm-header"]],inputs:{title:"title"},decls:17,vars:4,consts:[[1,"navbar","navbar-default"],[1,"container-fluid"],[1,"navbar-header"],["title","Home",1,"navbar-brand",3,"href"],[3,"src"],[1,"nav","navbar-nav","navbar-right"],["dropdown",""],["role","button","aria-haspopup","true","aria-expanded","false","dropdownToggle","",1,"dropdown-toggle"],[1,"glyphicon","glyphicon-menu-hamburger"],["class","task-badge",3,"ngClass",4,"ngIf"],["class","dropdown-menu",4,"dropdownMenu"],[1,"navbar-right","user-indicator"],[1,"navbar-text"],[2,"color","white"],[1,"task-badge",3,"ngClass"],[1,"dropdown-menu"],["role","menuitem"],["id","account-btn",1,"user-command-link","link-active",3,"click"],["key","userDashboards.account"],["routerLink","/site/tasks","routerLinkActive","active",1,"dropdown-item"],["routerLink","/site/viewer","routerLinkActive","active",1,"dropdown-item"],[4,"ngIf"],["role","menuitem",4,"ngIf"],[1,"dropdown-item",3,"href"],["routerLink","/admin/accounts","routerLinkActive","active",1,"dropdown-item"],["key","accounts.link"],["routerLink","/admin/session-events","routerLinkActive","active",1,"dropdown-item"],["routerLink","/admin/logos","routerLinkActive","active",1,"dropdown-item"],["key","Icons"],["routerLink","/admin/email","routerLinkActive","active",1,"dropdown-item"],["key","email.link"],["routerLink","/site/sensors","routerLinkActive","active",1,"dropdown-item"],["routerLink","/site/platforms","routerLinkActive","active",1,"dropdown-item"],["routerLink","/admin/system-info","routerLinkActive","active",1,"dropdown-item"]],template:function(e,t){1&e&&(c.kc(0,"header"),c.kc(1,"nav",0),c.kc(2,"div",1),c.kc(3,"div",2),c.kc(4,"a",3),c.gc(5,"img",4),c.jc(),c.jc(),c.kc(6,"ul",5),c.kc(7,"li",6),c.kc(8,"a",7),c.kc(9,"span",8),c.Rc(10,p,2,4,"span",9),c.jc(),c.jc(),c.Rc(11,j,22,9,"ul",10),c.jc(),c.jc(),c.kc(12,"div",11),c.kc(13,"p",12),c.Tc(14," Logged in as "),c.kc(15,"b",13),c.Tc(16),c.jc(),c.jc(),c.jc(),c.jc(),c.jc(),c.jc()),2&e&&(c.Tb(4),c.Cc("href","",t.context,"/project/management#/menu",c.Nc),c.Tb(1),c.Ac("src",t.context+"/logo/view?id=logo",c.Nc),c.Tb(5),c.Ac("ngIf",t.notificationCount>0),c.Tb(6),c.Uc(t.userName))},directives:[o.a,o.d,l.k,o.b,l.i,u.a,d.d,d.c],styles:[".navbar-right.user-indicator[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]{\n    color: white;\n}\n\n.task-badge[_ngcontent-%COMP%] {\n  position: absolute;\n  top: -12px;\n  right: -13px;\n  padding: 3px 7px;\n  border-radius: 50%;\n  background: orange;\n  color: white;\n  font-size: 18px;\n  font-weight: bold;\n  border: solid 3px #7c868d;\n}\n.task-badge.double-digit[_ngcontent-%COMP%] {\n  padding: 5px 5px;\n}"]})},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0),i=n(4);class r{constructor(){this.mustMatch=[]}validate(e){return(t=this.mustMatch[0],n=this.mustMatch[1],e=>{const c=e.controls[t],i=e.controls[n];return c&&i?i.errors&&!i.errors.mustMatch?null:void(c.value!==i.value?i.setErrors({mustMatch:!0}):i.setErrors(null)):null})(e);var t,n}}r.ɵfac=function(e){return new(e||r)},r.ɵdir=c.ac({type:r,selectors:[["","mustMatch",""]],inputs:{mustMatch:"mustMatch"},features:[c.Sb([{provide:i.f,useExisting:r,multi:!0}])]})},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(4),i=n(0);class r{validate(e){if(console.log("Checking password strength"),null!=e.value&&""!==e.value){let t=!0;return RegExp("(?=.*[0-9].*[0-9]).*").test(e.value)||(t=!1),RegExp("(?=.*[a-z].*[a-z]).*").test(e.value)||(t=!1),RegExp("(?=.*[A-Z].*[A-Z]).*").test(e.value)||(t=!1),RegExp("(?=.*[~!@#$%^&*()_-].*[~!@#$%^&*()_-]).*").test(e.value)||(t=!1),t?null:{passwordStrength:!0}}return null}}r.ɵfac=function(e){return new(e||r)},r.ɵdir=i.ac({type:r,selectors:[["","passwordValidator",""]],features:[i.Sb([{provide:c.f,useExisting:r,multi:!0}])]})},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(0);class i{localize(e,t){return com.runwaysdk.Localize.localize(e,t)}get(e){return com.runwaysdk.Localize.get(e)}decode(e){let t=e.lastIndexOf(".");if(-1!==t){let n=[e.slice(0,t),e.slice(t+1)];return this.localize(n[0],n[1])}return this.get(e)}}i.ɵfac=function(e){return new(e||i)},i.ɵprov=c.bc({token:i,factory:i.ɵfac})},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(0),i=n(8),r=n(123),s=n(26),a=n(22);class o{constructor(e,t,n){this.eventService=e,this.http=t,this.authService=n}login(e,t){let n=new i.f({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/session/login",JSON.stringify({username:e,password:t}),{headers:n}).pipe(Object(r.a)(()=>{this.eventService.complete()})).toPromise().then(e=>(this.authService.setUser(e),e))}logout(){let e=new i.f({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/session/logout",{headers:e}).pipe(Object(r.a)(()=>{this.eventService.complete()})).toPromise().then(()=>{this.authService.setUser(null)})}}o.ɵfac=function(e){return new(e||o)(c.oc(s.a),c.oc(i.c),c.oc(a.a))},o.ɵprov=c.bc({token:o,factory:o.ɵfac})},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(0),i=n(3),r=n(15);function s(e,t){if(1&e&&(c.kc(0,"label",4),c.Tc(1),c.jc()),2&e){const e=c.uc();c.Tb(1),c.Uc(e.label)}}function a(e,t){if(1&e&&(c.kc(0,"label",4),c.gc(1,"localize",5),c.jc()),2&e){const e=c.uc();c.Tb(1),c.Bc("key",e.localizeLabelKey)}}const o=function(e){return{"chk-checked":e}};class l{constructor(){this.value=!1,this.disabled=!1,this.localizeLabelKey="",this.label="",this.valueChange=new c.t}toggle(){this.disabled||(this.value=!this.value,this.valueChange.emit(this.value))}}l.ɵfac=function(e){return new(e||l)},l.ɵcmp=c.Zb({type:l,selectors:[["boolean-field"]],inputs:{value:"value",disabled:"disabled",localizeLabelKey:"localizeLabelKey",label:"label"},outputs:{valueChange:"valueChange"},decls:7,vars:5,consts:[[1,"check-block","form-group"],["ng-style","chkstyle",1,"jcf-unselectable","chk-area",3,"ngClass","click"],["class","checkbox-label",4,"ngIf"],[1,"row"],[1,"checkbox-label"],[3,"key"]],template:function(e,t){1&e&&(c.kc(0,"div"),c.kc(1,"div",0),c.kc(2,"div",1),c.sc("click",(function(){return t.toggle()})),c.gc(3,"span"),c.jc(),c.Rc(4,s,2,1,"label",2),c.Rc(5,a,2,1,"label",2),c.jc(),c.gc(6,"div",3),c.jc()),2&e&&(c.Tb(2),c.Ac("ngClass",c.Ec(3,o,t.value)),c.Tb(2),c.Ac("ngIf",t.label.length>0),c.Tb(1),c.Ac("ngIf",t.localizeLabelKey.length>0))},directives:[i.i,i.k,r.a],styles:[".modal-form[_ngcontent-%COMP%]   .holder[_ngcontent-%COMP%]   .check-block[_ngcontent-%COMP%]   .chk-area[_ngcontent-%COMP%] {margin: 10px 0px 0 0;}"]})},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0),i=n(19);class r{constructor(e){this.sanitizer=e}transform(e,t){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}r.ɵfac=function(e){return new(e||r)(c.fc(i.b))},r.ɵpipe=c.ec({name:"safeHtml",type:r,pure:!0})},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(4),i=n(0),r=n(94);class s{validate(e){if(null!=e.value&&""!==e.value){try{const t=r.PhoneNumberUtil.getInstance(),n=""+e.value,c=t.parseAndKeepRawInput(n,"US");if(t.isValidNumber(c))return null}catch(t){return console.log(t,e.value),{phoneNumber:!0}}return{phoneNumber:!0}}return null}}s.ɵfac=function(e){return new(e||s)},s.ɵdir=i.ac({type:s,selectors:[["","phoneNumber",""]],features:[i.Sb([{provide:c.f,useExisting:s,multi:!0}])]})},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var c=n(0),i=n(3),r=n(9),s=n(4),a=n(57),o=n(12),l=n(18),u=n(56),d=n(44),f=n(43),p=n(21),g=n(49),h=n(15),b=n(32),m=n(69),v=n(33),k=n(41),w=n(39),y=n(42),j=n(92),T=n(28),x=n(20);class C{transform(e,t){let n=new Array;for(let t in e)n.push({key:t,value:e[t]});return n}}C.ɵfac=function(e){return new(e||C)},C.ɵpipe=c.ec({name:"keys",type:C,pure:!1});var M=n(93);class A{transform(e,t,n){return e?e.filter(e=>e[t]===n):[]}}A.ɵfac=function(e){return new(e||A)},A.ɵpipe=c.ec({name:"filter",type:A,pure:!0});var I=n(86),O=n(54),R=n(90),S=n(55);class P{constructor(){this.listeners=[]}registerListener(e){this.listeners.push(e)}deregisterListener(e){let t=this.listeners.indexOf(e);return-1!==t&&(this.listeners.splice(t,1),!0)}start(){for(const e of this.listeners)e.start()}progress(e){for(const t of this.listeners)t.progress(e)}complete(){for(const e of this.listeners)e.complete()}}P.ɵfac=function(e){return new(e||P)},P.ɵprov=c.bc({token:P,factory:P.ɵfac});var z=n(26),N=n(60),L=n(22),U=n(35),_=n(62),E=n(125),D=n(151);class F{static forRoot(){return{ngModule:F,providers:[a.a,L.a,_.a,U.a,N.a,z.a,P,E.a,E.b,D.a]}}}F.ɵmod=c.dc({type:F}),F.ɵinj=c.cc({factory:function(e){return new(e||F)},imports:[[i.b,r.e,s.c,o.c.forRoot(),f.b,l.c,u.b,d.a,p.b.forRoot()]]}),("undefined"==typeof ngJitMode||ngJitMode)&&c.Oc(F,{declarations:[g.a,b.a,v.a,w.a,y.a,k.a,h.a,m.a,j.a,T.a,C,x.a,M.a,A,I.a,O.a,R.a,S.a],imports:[i.b,r.e,s.c,o.c,f.b,l.c,u.b,d.a,p.b],exports:[g.a,b.a,w.a,y.a,k.a,m.a,h.a,j.a,T.a,C,x.a,M.a,A,I.a,O.a,R.a,S.a]})},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(0),i=n(85),r=n(3);const s=function(e,t){return{active:e,enabled:t}};function a(e,t){if(1&e&&(c.kc(0,"li",4),c.Tc(1),c.jc()),2&e){const e=t.$implicit;c.Ac("@fadeInOnEnter",void 0)("ngClass",c.Fc(3,s,e.active,e.enabled)),c.Tb(1),c.Uc(e.label)}}function o(e,t){if(1&e&&(c.kc(0,"ul",2),c.Rc(1,a,2,6,"li",3),c.jc()),2&e){const e=c.uc();c.Tb(1),c.Ac("ngForOf",e.stepConfig.steps)}}class l{constructor(){}ngOnInit(){}ngOnChanges(e){}ngOnDestroy(){}setActiveStep(e){}setStepConfig(e){this.stepConfig=e}}l.ɵfac=function(e){return new(e||l)},l.ɵcmp=c.Zb({type:l,selectors:[["modal-step-indicator"]],inputs:{stepConfig:"stepConfig"},features:[c.Rb],decls:2,vars:1,consts:[[1,"step-indicator"],["class","list-inline nav nav-justified",4,"ngIf"],[1,"list-inline","nav","nav-justified"],["class","nav-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"nav-item",3,"ngClass"]],template:function(e,t){1&e&&(c.kc(0,"div",0),c.Rc(1,o,2,1,"ul",1),c.jc()),2&e&&(c.Tb(1),c.Ac("ngIf",t.stepConfig&&t.stepConfig.steps&&t.stepConfig.steps.length>0))},directives:[r.k,r.j,r.i],styles:[".step-indicator[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%] {\n    height: 50px;\n    background: white;\n    text-align: center;\n    vertical-align: middle;\n    border-bottom: 4px solid lightgrey;\n    font-size: 18px;\n    color: lightgrey;\n}\n.step-indicator[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{\n    \n    \n}\n.step-indicator[_ngcontent-%COMP%]   .nav-item.active.enabled[_ngcontent-%COMP%]{\n    \n    border-bottom: 4px solid black;\n    font-weight: bold;\n    color: black;\n}"],data:{animation:[Object(i.c)(),Object(i.d)()]},changeDetection:0})},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0),i=n(94);class r{transform(e,t){const n=i.PhoneNumberUtil.getInstance();if(null!=e&&""!==e){const t=n.parseAndKeepRawInput(e,"US");if(n.isValidNumber(t))return n.format(t,i.PhoneNumberFormat.INTERNATIONAL)}return e}}r.ɵfac=function(e){return new(e||r)},r.ɵpipe=c.ec({name:"phone",type:r,pure:!0})}}]);
//# sourceMappingURL=0.chunk.js.map